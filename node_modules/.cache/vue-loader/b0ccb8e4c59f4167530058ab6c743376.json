{"remainingRequest":"/home/archi/Рабочий стол/newF/hello-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/archi/Рабочий стол/newF/hello-vue/src/components/allProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/archi/Рабочий стол/newF/hello-vue/src/components/allProduct.vue","mtime":1545647298143},{"path":"/home/archi/Рабочий стол/newF/hello-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/archi/Рабочий стол/newF/hello-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/archi/Рабочий стол/newF/hello-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default { \n\n\n  name: 'allProduct', \n  data () {\n    return {\n      id:null,\n      info: null,\n      numbersList: null,\n      numberPagination: 1,\n      shoppingcart: JSON.parse(localStorage.getItem(\"myBac\")) || [],\n    }\n  },\n\n  mounted() {   \n      this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/1/5/created_at/asc')\n        .then(request => {this.info = request.data.items\n                          this.numbersList = Math.ceil((request.data.total_count)/5)\n            })\n  },\n\n  methods: {\n  previous: function(){\n    this.$router.replace(this.$route.query.redirect || '/home')\n  },\n  deleteProduct: function(id){\n    this.$http.delete('//194.44.152.158:8121/index.php/api/v1/product/' +id)\n    this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/1/5/created_at/asc')\n        .then(request => {this.info = request.data.items\n                          this.numbersList = Math.ceil((request.data.total_count)/5)\n            })\n  \n  },\n  pagination: function(number){\n    this.numberPagination = number\n    this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/'+number+'/5/created_at/asc')\n        .then(request => {this.info = request.data.items});\n  },\n  lazy: function(number) {\n    this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/'+number+'/5/created_at/asc')\n        .then(request => {this.info = this.info.concat(request.data.items)});\n        this.numberPagination +=1\n  },\n    addShoppingcart: function(id , title , price,path) {\n      this.shoppingcart = JSON.parse(localStorage.getItem(\"myBac\")) || []\n      if(this.shoppingcart.length != 0 ){\n          if(this.shoppingcart.some(r => r.some(i => i == id))){           \n            for(let i = 0; i < this.shoppingcart.length; i++){\n              if (this.shoppingcart[i].some(i => i == id) ) {\n            this.shoppingcart[i][4] += 1\n                }\n              }\n            }\n            else {\n            this.shoppingcart.push([id,title,price,path,1])\n            }\n          } \n          else {\n            this.shoppingcart.push([id,title,price,path,1])\n         }\n      let serialObj = JSON.stringify(this.shoppingcart);\n      localStorage.setItem(\"myBac\", serialObj)\n  }\n  },\n  computed: {\n  token4: function(){\n    return this.$store.getters.getToken\n  }\n}\n\n}\n",{"version":3,"sources":["allProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"allProduct.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"login-wrapper border border-light\">\n    <form class=\"form-signin\" > \n      \n     <div class=\"product\"> \n      <div class=\"card mt-2\" v-for=\"product in info\" >\n        <img class=\"card-img-top\" :src=\"'http://194.44.152.158:8121/data/products/'+product.id+'/'+product.path\" alt=\"Card image cap\" v-if=\" product.path!=null \">\n        <div class=\"card-body\">\n          <p class=\"card-text\">product id: {{ product.id }}; <br> Barcode : {{ product.barcode }}; <br> title {{product.title}}; <br> price {{product.price}}; <br> discount {{product.discount}} <br>\n        vat {{product.vat}}\n        <br>\n        <input class=\"btn btn-info  \" @click=\"addShoppingcart(product.id, product.title , product.price, product.path)\" type=\"button\" value=\"Add from shoppingcart\" v-if=\"token4\" >\n        <input class=\"btn btn-info ml-1 w-btn\" @click=\"deleteProduct(product.id)\" type=\"button\" value=\"Delete\" v-if=\"token4\" ></p>\n        </div>\n      </div>\n     </div> \n\n      <nav  aria-label=\"Page navigation example\" class=\" d-flex  justify-content-center mt-3\"> \n        <ul class=\"pagination\">\n          <li class=\"page-item\" v-if=\"this.numbersList != this.numberPagination\" >\n            <a class=\"page-link castom-link\" href=\"#\" @click=\"lazy(numberPagination+1)\" >more</a>\n          </li>\n        </ul>  \n       </nav> \n     \n      <nav aria-label=\"Page navigation example\" class=\" d-flex  justify-content-center\">\n        <ul class=\"pagination\">\n          <li class=\"page-item\" v-if=\" 1 != this.numberPagination\"><a class=\"page-link\" href=\"#\" @click=\"pagination(numberPagination-1)\">Previous</a></li>\n          <li class=\"page-item\" v-for = \"number of numbersList\">\n            <a class=\"page-link\" href=\"#\" @click=\"pagination(number)\" >{{number}}\n            </a>\n          </li>\n          <li class=\"page-item\" v-if=\"this.numbersList != this.numberPagination\" ><a class=\"page-link\" href=\"#\" @click=\"pagination(numberPagination+1)\" >Next</a></li>\n          \n        </ul>\n      </nav>  \n      \n  </form>\n\n    <form class=\"form-signin\" @submit.prevent=\"deleteProduct\">\n     <!-- <input v-model=\"id\" type=\"text\" id=\"discount\" class=\"form-control\" placeholder=\"id\" required>\n      <input class=\"btn  btn-lg btn-primary btn-block \" @click=\"deleteProduct\" type=\"button\" value=\"deleteProduct\">-->\n      <input class=\"btn  btn-lg btn-primary btn-block \" @click=\"previous\" type=\"button\" value=\"<-- previous\">\n    </form>\n    \n\n    \n  </div>\n</template>\n\n<script>\nexport default { \n\n\n  name: 'allProduct', \n  data () {\n    return {\n      id:null,\n      info: null,\n      numbersList: null,\n      numberPagination: 1,\n      shoppingcart: JSON.parse(localStorage.getItem(\"myBac\")) || [],\n    }\n  },\n\n  mounted() {   \n      this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/1/5/created_at/asc')\n        .then(request => {this.info = request.data.items\n                          this.numbersList = Math.ceil((request.data.total_count)/5)\n            })\n  },\n\n  methods: {\n  previous: function(){\n    this.$router.replace(this.$route.query.redirect || '/home')\n  },\n  deleteProduct: function(id){\n    this.$http.delete('//194.44.152.158:8121/index.php/api/v1/product/' +id)\n    this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/1/5/created_at/asc')\n        .then(request => {this.info = request.data.items\n                          this.numbersList = Math.ceil((request.data.total_count)/5)\n            })\n  \n  },\n  pagination: function(number){\n    this.numberPagination = number\n    this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/'+number+'/5/created_at/asc')\n        .then(request => {this.info = request.data.items});\n  },\n  lazy: function(number) {\n    this.$http.get('//194.44.152.158:8121/index.php/api/v1/products/'+number+'/5/created_at/asc')\n        .then(request => {this.info = this.info.concat(request.data.items)});\n        this.numberPagination +=1\n  },\n    addShoppingcart: function(id , title , price,path) {\n      this.shoppingcart = JSON.parse(localStorage.getItem(\"myBac\")) || []\n      if(this.shoppingcart.length != 0 ){\n          if(this.shoppingcart.some(r => r.some(i => i == id))){           \n            for(let i = 0; i < this.shoppingcart.length; i++){\n              if (this.shoppingcart[i].some(i => i == id) ) {\n            this.shoppingcart[i][4] += 1\n                }\n              }\n            }\n            else {\n            this.shoppingcart.push([id,title,price,path,1])\n            }\n          } \n          else {\n            this.shoppingcart.push([id,title,price,path,1])\n         }\n      let serialObj = JSON.stringify(this.shoppingcart);\n      localStorage.setItem(\"myBac\", serialObj)\n  }\n  },\n  computed: {\n  token4: function(){\n    return this.$store.getters.getToken\n  }\n}\n\n}\n</script>\n\n<style lang=\"css\">\nbody {\n  background: #605B56;\n}\n\n\n.product img {\n    float: left;\n    width: 140px;\n}\n\n.login-wrapper {\n  background: #fff;\n  width: 70%;\n  margin: 12% auto;\n}\n\n.form-signin {\n  max-width: 730px;\n  padding: 10px 15px;\n  margin: 0 auto;\n}\n.form-signin .form-signin-heading,\n.form-signin .checkbox {\n  margin-bottom: 10px;\n}\n.form-signin .checkbox {\n  font-weight: normal;\n}\n.form-signin .form-control {\n  position: relative;\n  height: auto;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  padding: 10px;\n  font-size: 16px;\n}\n.form-signin .form-control:focus {\n  z-index: 2;\n}\n.form-signin input[type=\"email\"] {\n  margin-bottom: -1px;\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.form-signin input[type=\"password\"] {\n  margin-bottom: 10px;\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\nnav {\n  \n}\n.castom-link{\n  padding: 15%!important;\n    font-size: x-large;\n    height: 60px;\n    text-align: center;\n    vertical-align: bottom;\n    width: 94px;\n}\n.product img {\n    width: 290px;\n}\n.w-btn{\n  width:130px\n}\n</style>"]}]}